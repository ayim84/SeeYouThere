(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),l=a.n(r),c=a(22),s=a(31),i=a(12),h=a(13),u=a(15),p=a(14),m=a(16),g=(a(37),a(3)),d=a(21),f=a.n(d),y={googleLocation:function(e){return f.a.get("https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key=AIzaSyCZHm522MDtZTsy5gXFX2ni9rsUYdKXCh4")},yelp:function(e,t,a){return f.a.get("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?latitude="+e+"&longitude="+t+"&categories="+a,{headers:{Authorization:"Bearer xPu4PdApD7iZEGV1WZoFEnQ19m1bNtl9UO6chw0e8jkzMb4nnqrS-W3Dsoq6DrnCUhk6acWx-cfV-ZkJmhQ6C02O-7a8PcPL5hHgKP2rG-yshyFN_bNVD-VEyInSW3Yx"}})}},E=(a(98),function(){return o.a.createElement(g.Card,{className:"small",header:o.a.createElement(g.Navbar,{className:"navBar",right:!0})},o.a.createElement("div",{className:"text"},"See You There"))}),w=a(8),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.placesArray!==e.placesArray||this.state.showingInfoWindow!==t.showingInfoWindow||this.state.selectedPlace!==t.selectedPlace}},{key:"render",value:function(){for(var e=this,t=new this.props.google.maps.LatLngBounds,a=0;a<this.props.locationsObjArray.length;a++)t.extend(this.props.locationsObjArray[a]);return o.a.createElement(n.Fragment,null,o.a.createElement(w.Map,{google:this.props.google,zoom:4,style:{width:"40%",height:"70%"},initialCenter:{lat:37.09024,lng:-95.712891},center:{lat:this.props.centerLat,lng:this.props.centerLong},bounds:t,onClick:this.onMapClicked},this.props.locationsArray.length>0?o.a.createElement(w.Marker,{name:"Center Point",position:{lat:this.props.centerLat,lng:this.props.centerLong},onClick:this.onMarkerClick}):o.a.createElement(n.Fragment,null),this.props.locationsArray.map(function(e){return o.a.createElement(w.Marker,{position:{lat:e[0],lng:e[1]},key:e,icon:{url:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"}})}),this.props.placesArray.map(function(t){return o.a.createElement(w.Marker,{name:t.name,position:{lat:t.coordinates.latitude,lng:t.coordinates.longitude},key:t.alias,onClick:e.onMarkerClick,icon:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"}})}),o.a.createElement(w.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},o.a.createElement("div",null,o.a.createElement("p",null,this.state.selectedPlace.name)))))}}]),t}(n.Component),v=Object(w.GoogleApiWrapper)({apiKey:"AIzaSyCZHm522MDtZTsy5gXFX2ni9rsUYdKXCh4"})(b),C=function(e){var t=e.children;return o.a.createElement("div",null,o.a.createElement("ul",null,t))},k=function(e){return o.a.createElement("li",null,e.children)},A=function(e){return o.a.createElement("h4",null,e.children)},I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={location1:"",location2:"",location3:"",location4:"",locationsArray:[],locationsObjArray:[],centerLat:37.09024,centerLong:-95.712891,category:"restaurants",placesArray:[],showingInfoWindow:!0},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(s.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault();var t=[];a.setState({locationsArray:[]}),a.setState({locationsObjArray:[]}),t.push(a.state.location1,a.state.location2,a.state.location3,a.state.location4),a.getLatLong(t),a.setState({showingInfoWindow:!1})},a.getLatLong=function(e){for(var t=[],n=0;n<e.length;n++)""!==e[n]&&t.push(e[n]);Promise.all(t.map(function(e){return new Promise(function(t,a){""!==e&&y.googleLocation(e).then(function(e){t(e)}).catch(function(e){return console.log(e)})})})).then(function(e){for(var t=function(t){var n=e[t].data.results[0],o=n.geometry.location.lat,r=n.geometry.location.lng,l=[o,r];a.setState(function(e){return{locationsArray:Object(c.a)(e.locationsArray).concat([l])}});var s={lat:o,lng:r};a.setState(function(e){return{locationsObjArray:Object(c.a)(e.locationsObjArray).concat([s])}})},n=0;n<e.length;n++)t(n);a.getCenter(a.state.locationsArray),a.loadPlaces(a.state.centerLat,a.state.centerLong,a.state.category)})},a.loadPlaces=function(e,t,n){y.yelp(e,t,n).then(function(e){a.setState({placesArray:e.data.businesses}),console.log("Places: ",a.state.placesArray)})},a.getCenter=function(e){if(!(e.length>0))return!1;for(var t=e.length,n=0,o=0,r=0,l=0;l<e.length;l++){var c=e[l][0]*Math.PI/180,s=e[l][1]*Math.PI/180;n+=Math.cos(c)*Math.cos(s),o+=Math.cos(c)*Math.sin(s),r+=Math.sin(c)}n/=t,o/=t,r/=t;var i=Math.atan2(o,n),h=Math.sqrt(n*n+o*o),u=180*Math.atan2(r,h)/Math.PI,p=180*i/Math.PI;a.setState({centerLat:u,centerLong:p})},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement(E,null),o.a.createElement(g.Container,null,o.a.createElement(g.Row,null,o.a.createElement(g.Input,{s:3,label:"Location 1",name:"location1",value:this.state.location1,onChange:this.handleInputChange}),o.a.createElement(g.Input,{s:3,label:"Location 2",name:"location2",value:this.state.location2,onChange:this.handleInputChange}),o.a.createElement(g.Input,{s:3,label:"Location 3",name:"location3",value:this.state.location3,onChange:this.handleInputChange}),o.a.createElement(g.Input,{s:3,label:"Location 4",name:"location4",value:this.state.location4,onChange:this.handleInputChange})),o.a.createElement(g.Row,null,o.a.createElement(g.Col,null,o.a.createElement(g.Input,{type:"select",label:"Category",name:"category",value:this.state.category,onChange:this.handleInputChange},o.a.createElement("option",{value:"restaurants"},"Restaurants"),o.a.createElement("option",{value:"bars"},"Bars"))),o.a.createElement(g.Col,null,o.a.createElement(g.Button,{waves:"light",type:"submit",onClick:this.handleFormSubmit},"Submit"))),o.a.createElement(g.Row,null,o.a.createElement(g.Col,null,o.a.createElement(v,{locationsArray:this.state.locationsArray,locationsObjArray:this.state.locationsObjArray,placesArray:this.state.placesArray,centerLat:this.state.centerLat,centerLong:this.state.centerLong,showingInfoWindow:this.state.showingInfoWindow})),o.a.createElement(g.Col,{s:4,offset:"s8"},this.state.placesArray.length?o.a.createElement(C,null,o.a.createElement(A,null,"Places"),this.state.placesArray.map(function(e){return o.a.createElement(k,{header:e.name,key:e.id},o.a.createElement("h5",null,o.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name)),o.a.createElement("p",null,e.display_phone),e.categories.map(function(e){return o.a.createElement("i",null,e.title," ")}))})):o.a.createElement("h3",null,"No Results")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){e.exports=a(113)},37:function(e,t,a){},98:function(e,t,a){}},[[32,2,1]]]);
//# sourceMappingURL=main.f0d0dd53.chunk.js.map